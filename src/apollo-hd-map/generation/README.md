For each junction,

learn the topology represented by in-out sequences in counter-clockwise order